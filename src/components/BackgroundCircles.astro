<!-- Large gradient circles with parallax scroll effect -->
<div class="bg-circles" aria-hidden="true">
  <div
    class="bg-circle bg-circle--1"
    data-parallax-x="0.10"
    data-parallax-y="0.15"
    style="background-image: linear-gradient(135deg, rgba(161,166,159,0) 0%, rgba(161,166,159,0) 20%, rgba(161,166,159,0.5) 80%, rgba(161,166,159,0.5) 100%);"
  ></div>
  <div
    class="bg-circle bg-circle--2"
    data-parallax-x="0.18"
    data-parallax-y="-0.25"
    style="background-image: linear-gradient(225deg, rgba(161,166,159,0) 0%, rgba(161,166,159,0) 20%, rgba(161,166,159,0.5) 80%, rgba(161,166,159,0.5) 100%);"
  ></div>
  <div
    class="bg-circle bg-circle--3"
    data-parallax-x="-0.22"
    data-parallax-y="0.35"
    style="background-image: linear-gradient(45deg, rgba(161,166,159,0) 0%, rgba(161,166,159,0) 20%, rgba(161,166,159,0.5) 80%, rgba(161,166,159,0.5) 100%);"
  ></div>
</div>

<style>
  .bg-circles {
    position: fixed;
    inset: 0;
    z-index: -1;
    overflow: hidden;
    pointer-events: none;
  }

  .bg-circle {
    position: absolute;
    border-radius: 50%;
    will-change: transform;
  }

  /* Circle 1: Upper-left, largest, slowest */
  .bg-circle--1 {
    width: 80vw;
    height: 80vw;
    top: -30vw;
    left: -25vw;
  }

  /* Circle 2: Lower-left, medium */
  .bg-circle--2 {
    width: 70vw;
    height: 70vw;
    bottom: -10vw;
    left: 5vw;
  }

  /* Circle 3: Right-center, smallest, fastest */
  .bg-circle--3 {
    width: 60vw;
    height: 60vw;
    top: 30%;
    right: -20vw;
  }
</style>

<script>
  const prefersReducedMotion = window.matchMedia('(prefers-reduced-motion: reduce)').matches;

  if (!prefersReducedMotion) {
    const circles = document.querySelectorAll<HTMLElement>('.bg-circle[data-parallax-x]');
    let ticking = false;

    window.addEventListener('scroll', () => {
      if (!ticking) {
        ticking = true;
        requestAnimationFrame(() => {
          const scrollY = window.scrollY;
          circles.forEach((circle) => {
            const fx = parseFloat(circle.dataset.parallaxX || '0');
            const fy = parseFloat(circle.dataset.parallaxY || '0');
            circle.style.transform = `translate(${scrollY * fx}px, ${scrollY * fy}px)`;
          });
          ticking = false;
        });
      }
    }, { passive: true });
  }
</script>
