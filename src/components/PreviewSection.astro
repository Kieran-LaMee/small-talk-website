---
import PhoneMockup from "./PhoneMockup.astro";
import SectionHeading from "./SectionHeading.astro";

const screenshots = [
  {
    src: "/images/screenshot-splash.png",
    alt: "Small Talk Notebook intro screen",
  },
  {
    src: "/images/screenshot-people.png",
    alt: "People list with search and contact cards",
  },
  {
    src: "/images/screenshot-person-detail.png",
    alt: "Person profile with notes and conversation history",
  },
  {
    src: "/images/screenshot-notes.png",
    alt: "Notes timeline with calendar and conversation entries",
  },
  {
    src: "/images/screenshot-dark.png",
    alt: "Notes timeline in dark theme",
  },
  {
    src: "/images/screenshot-themes.png",
    alt: "Color theme picker with seven palette options",
  },
];
---

<section id="preview" class="px-6 scroll-animate">
  <div class="max-w-4xl mx-auto bg-[--color-bg-primary]/80 backdrop-blur-sm rounded-3xl px-8 md:px-10 py-10 border border-white/40">
    <SectionHeading title="Preview" />

    <!-- Horizontal scroll -->
    <div class="relative -mx-8 md:-mx-10">
      <div class="overflow-x-auto px-8 md:px-10 pb-6 scrollbar-hide">
        <div class="flex gap-8 md:gap-10" style="min-width: max-content;">
          {screenshots.map((shot) => (
            <PhoneMockup>
              <img
                src={shot.src}
                alt={shot.alt}
                class="w-full h-full object-cover object-top"
                loading="lazy"
              />
            </PhoneMockup>
          ))}
        </div>
      </div>
      <div class="fade-edge fade-left"></div>
      <div class="fade-edge fade-right"></div>
    </div>
  </div>
</section>

<style>
  .scrollbar-hide {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }
  .scrollbar-hide::-webkit-scrollbar {
    display: none;
  }
  .fade-edge {
    position: absolute;
    top: 0;
    bottom: 0;
    width: 2rem;
    pointer-events: none;
    z-index: 10;
    backdrop-filter: blur(8px);
    -webkit-backdrop-filter: blur(8px);
  }
  .fade-left {
    left: 0;
    mask-image: linear-gradient(to right, black, transparent);
    -webkit-mask-image: linear-gradient(to right, black, transparent);
  }
  .fade-right {
    right: 0;
    mask-image: linear-gradient(to left, black, transparent);
    -webkit-mask-image: linear-gradient(to left, black, transparent);
  }
  @media (min-width: 768px) {
    .fade-edge {
      width: 2.5rem;
    }
  }
</style>
